# План миграции атомарных компонентов - Фаза 1

## Цель
Приоритизация и миграция компонентов согласно требованиям фазы 1 с фокусом на качество и стандартизацию.

## Высокий приоритет (1-2 недели)

### 1. Button ✅ (Частично готов)
**Статус**: Рефакторинг и упрощение API
- [x] Базовая функциональность готова
- [x] Тесты написаны (91% покрытие)
- [x] Storybook настроен
- [ ] Упрощение API (убрать избыточные варианты)
- [ ] Добавить variant="link" согласно конфигурации
- [ ] Оптимизация для лучшей производительности

**Действия**:
- Упростить API, оставив только необходимые варианты
- Добавить недостающий variant="link"
- Улучшить accessibility
- Оптимизировать bundle size

### 2. Icon ⚠️ (Требует миграции)
**Статус**: Миграция на SVG, интеграция с Lucide React
- [x] Базовая функциональность с локальными SVG
- [ ] Интеграция с Lucide React
- [ ] Создание единой системы иконок
- [ ] Добавить поддержку variants: solid, outline, mini
- [ ] Тесты и Storybook

**Действия**:
- Создать гибридную систему: Lucide React + локальные SVG
- Добавить поддержку size, color, className
- Создать типы для всех иконок
- Написать тесты

### 3. Typography ✅ (Готов)
**Статус**: Создание Heading, Text, Caption
- [x] Базовая функциональность готова
- [x] Поддержка всех вариантов
- [x] Alias Text для совместимости
- [ ] Создать отдельные компоненты Heading, Caption
- [ ] Тесты и Storybook

**Действия**:
- Разделить на Heading, Text, Caption
- Добавить специфические стили для каждого типа
- Создать тесты и Storybook

### 4. Badge ✅ (Готов)
**Статус**: Оптимизация существующего
- [x] Комплексная система вариантов
- [x] Поддержка цветов и размеров
- [ ] Упрощение избыточных вариантов
- [ ] Тесты и Storybook
- [ ] Оптимизация CSS

**Действия**:
- Упростить систему вариантов
- Оптимизировать CSS классы
- Добавить тесты

### 5. Input ✅ (Готов)
**Статус**: Создание базовых форм
- [x] Комплексная функциональность
- [x] Поддержка иконок и аддонов
- [ ] Миграция в папку Input/
- [ ] Создание специализированных компонентов
- [ ] Тесты и Storybook

**Действия**:
- Переместить в папку Input/
- Создать специализированные компоненты (TextInput, EmailInput, etc.)
- Добавить тесты

## Средний приоритет (3-4 недели)

### 6. Image ⚠️ (Частично готов)
**Действия**:
- Оптимизировать для различных вариантов
- Добавить lazy loading
- Создать тесты

### 7. Avatar ❌ (Требует миграции)
**Действия**:
- Мигрировать из src/components/ui/avatar/
- Интегрировать с Image компонентом
- Добавить поддержку initials и fallback

### 8. Spinner ❌ (Не создан)
**Действия**:
- Создать компонент с нуля
- Добавить различные варианты анимации
- Интегрировать с Button (loading state)

### 9. Checkbox ❌ (Требует миграции)
**Действия**:
- Мигрировать из src/components/form/input/
- Добавить поддержку indeterminate состояния
- Улучшить accessibility

### 10. Radio ❌ (Требует миграции)
**Действия**:
- Мигрировать из src/components/form/input/
- Создать RadioGroup компонент
- Добавить тесты

### 11. Toggle ❌ (Требует миграции)
**Действия**:
- Мигрировать из src/components/form/switch/
- Переименовать в Toggle
- Добавить различные размеры

### 12. Divider ❌ (Требует миграции)
**Действия**:
- Мигрировать из src/components/common/Separator
- Добавить поддержку вертикальной/горизонтальной ориентации
- Создать тесты

## Метрики успеха

### Качественные метрики:
- [x] 100% TypeScript покрытие
- [ ] 90%+ тестовое покрытие
- [ ] 100% Storybook документация
- [ ] Консистентный API дизайн
- [ ] Полная accessibility поддержка

### Количественные метрики:
- [ ] Уменьшение дублирования кода на 50%
- [ ] Сокращение bundle size на 20%
- [ ] Время сборки компонентов < 2 секунд
- [ ] Поддержка всех современных браузеров

## Файловая структура

```
src/components/atoms/
├── Button/
│   ├── Button.tsx
│   ├── Button.test.tsx
│   ├── Button.stories.tsx
│   └── index.ts
├── Icon/
│   ├── Icon.tsx
│   ├── Icon.test.tsx
│   ├── Icon.stories.tsx
│   ├── types.ts
│   └── index.ts
├── Typography/
│   ├── Typography.tsx
│   ├── Heading.tsx
│   ├── Text.tsx
│   ├── Caption.tsx
│   ├── Typography.test.tsx
│   ├── Typography.stories.tsx
│   └── index.ts
├── Badge/
│   ├── Badge.tsx
│   ├── Badge.test.tsx
│   ├── Badge.stories.tsx
│   └── index.ts
├── Input/
│   ├── Input.tsx
│   ├── TextInput.tsx
│   ├── EmailInput.tsx
│   ├── PasswordInput.tsx
│   ├── Input.test.tsx
│   ├── Input.stories.tsx
│   └── index.ts
└── index.ts
```

## Следующие шаги

1. **Неделя 1**: Рефакторинг Button, Icon, Typography
2. **Неделя 2**: Оптимизация Badge, Input, создание тестов
3. **Неделя 3**: Миграция Avatar, Spinner, Checkbox
4. **Неделя 4**: Миграция Radio, Toggle, Divider

## Зависимости

- `lucide-react` - для системы иконок
- `@testing-library/react` - для тестирования
- `@storybook/react` - для документации
- `clsx` - для условных классов
- `tailwind-merge` - для слияния Tailwind классов
