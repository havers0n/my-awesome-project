# –°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–¥–∞–∂

## ‚úÖ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Supabase
- **‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: Supabase –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **‚úÖ –î–∞–Ω–Ω—ã–µ**: –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∑–∞–ø–æ–ª–Ω–µ–Ω—ã:
  - `operations`: 2184+ –∑–∞–ø–∏—Å–µ–π —Å –∏—Å—Ç–æ—Ä–∏–µ–π –ø—Ä–æ–¥–∞–∂
  - `products`: 20 –ø—Ä–æ–¥—É–∫—Ç–æ–≤
  - `locations`: 5 –ª–æ–∫–∞—Ü–∏–π
  - `predictions`: 260 –∑–∞–ø–∏—Å–µ–π —Å –ø—Ä–æ–≥–Ω–æ–∑–∞–º–∏
  - `prediction_runs`: 13 –∑–∞–ø—É—Å–∫–æ–≤ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
  - `users`: 1 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å `organization_id: 1`

### Backend API (Node.js/Express)
- **‚úÖ –°–µ—Ä–≤–µ—Ä**: –ó–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3000
- **‚úÖ –†–æ—É—Ç—ã**: –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ endpoints
  - `GET /api/predictions/forecast` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≥–Ω–æ–∑–∞
  - `POST /api/predictions/forecast` - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞
  - `GET /api/predictions/history` - –∏—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
  - `GET /api/predictions/debug-auth` - –æ—Ç–ª–∞–¥–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: Supabase JWT —Ç–æ–∫–µ–Ω—ã
- **‚úÖ Mock —Ä–µ–∂–∏–º**: –í–∫–ª—é—á–µ–Ω (`USE_MOCK_ML=true`)

### Frontend (React + Vite)
- **‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: –ó–∞–ø—É—â–µ–Ω–æ –Ω–∞ –ø–æ—Ä—Ç—É 5174
- **‚úÖ –ü—Ä–æ–∫—Å–∏**: –ù–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è `/api` ‚Üí `localhost:3000`
- **‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü—ã**: 
  - `/sales-forecast` - –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è
  - `/test-forecast-api` - —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API
- **‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤ sidebar
- **‚úÖ API –∫–ª–∏–µ–Ω—Ç**: –ù–∞—Å—Ç—Ä–æ–µ–Ω –≤ `src/api/forecast.ts`

## üîç –¢–µ–∫—É—â–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5174/test-forecast-api
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É (–µ—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã)
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ 4 –∫–Ω–æ–ø–∫–∏:
   - **Test GET Forecast** - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–Ω–¥–∞
   - **Test POST Forecast** - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞
   - **Test History** - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
   - **Test Direct API** - –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ API

### –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5174/sales-forecast
2. –£–≤–∏–¥–∏—Ç–µ:
   - –ì—Ä–∞—Ñ–∏–∫ —Ç—Ä–µ–Ω–¥–∞ –ø—Ä–æ–¥–∞–∂
   - –¢–æ–ø –ø—Ä–æ–¥—É–∫—Ç–æ–≤
   - –ò—Å—Ç–æ—Ä–∏—é –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
   - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏ (–¢—Ä–µ–Ω–¥/–ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞)

## üìä –î–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–∞–∑—ã:
```json
{
  "operations": "2184+ –∑–∞–ø–∏—Å–µ–π —Å –ø—Ä–æ–¥–∞–∂–∞–º–∏",
  "products": "20 –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (CODE-1 –¥–æ CODE-20)",
  "locations": "5 –º–∞–≥–∞–∑–∏–Ω–æ–≤",
  "predictions": "260 –ø—Ä–æ–≥–Ω–æ–∑–æ–≤",
  "prediction_runs": "13 –∑–∞–ø—É—Å–∫–æ–≤ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ MAPE/MAE",
  "user": "danypetrov2002@gmail.com, organization_id: 1"
}
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ API:
```json
{
  "trend": {
    "points": [
      {"date": "2025-07-01", "value": 120},
      {"date": "2025-07-02", "value": 123}
    ]
  },
  "topProducts": [
    {"name": "–ú–æ–ª–æ–∫–æ", "amount": 140, "colorClass": "bg-green-500", "barWidth": "80%"}
  ],
  "history": {
    "items": [
      {"date": "2025-07-01", "product": "–ú–æ–ª–æ–∫–æ", "category": "–û–±—â–∞—è", "forecast": 140, "accuracy": "–í—ã—Å–æ–∫–∞—è"}
    ],
    "total": 3
  }
}
```

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ ML-–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞
- –°–æ–∑–¥–∞—Ç—å Python FastAPI —Å–µ—Ä–≤–∏—Å –Ω–∞ –ø–æ—Ä—Ç—É 5678
- –û–±–Ω–æ–≤–∏—Ç—å `USE_MOCK_ML=false` –≤ backend/.env
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `ML_SERVICE_URL=http://localhost:5678`

### 2. –£–ª—É—á—à–µ–Ω–∏–µ UX
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏
- –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é

### 3. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–∞–º
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ Excel/CSV
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Environment Variables
```bash
# Frontend (.env)
VITE_SUPABASE_URL=https://uxcsziylmyogvcqyyuiw.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Backend (.env)
USE_MOCK_ML=true
SUPABASE_URL=https://uxcsziylmyogvcqyyuiw.supabase.co
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1 - Backend
cd backend
npm run dev

# –¢–µ—Ä–º–∏–Ω–∞–ª 2 - Frontend  
cd frontend
npm run dev
```

## üìà –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
[Frontend:5174] ‚Üí [Backend:3000] ‚Üí [Supabase DB] ‚Üí [ML Service:5678]
       ‚Üì               ‚Üì              ‚Üì                    ‚Üì
   React/Vite     Node/Express    PostgreSQL         Python/FastAPI
```

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–¥–∞–∂ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:
- ‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
- ‚úÖ Backend API —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Frontend –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- ‚úÖ Mock —Ä–µ–∂–∏–º –≤–∫–ª—é—á–µ–Ω –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ú–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å!
