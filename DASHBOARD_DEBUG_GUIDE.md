# Руководство по диагностике проблем с дашбордом

## Проблема: Виджеты не добавляются

### Шаги диагностики:

1. **Откройте дашборд в браузере:**
   - Перейдите по адресу: `http://localhost:5173/dashboard/`
   - Убедитесь, что страница загружается без ошибок

2. **Откройте Developer Tools (F12):**
   - Перейдите на вкладку "Console"
   - Ищите ошибки или отладочные сообщения

3. **Проверьте загрузку виджетов:**
   - В консоли должно появиться сообщение: "Widget registry loaded with X widgets"
   - Должен быть список всех доступных виджетов

4. **Проверьте конфигурацию дашборда:**
   - В консоли ищите сообщения о загрузке конфигурации
   - Проверьте localStorage: `localStorage.getItem('dashboard-config')`

5. **Попробуйте добавить виджет:**
   - Нажмите кнопку "Режим редактирования"
   - Нажмите "Добавить виджет"
   - Выберите любой виджет из списка
   - Проверьте консоль на наличие ошибок

### Ожидаемые сообщения в консоли:

```
Widget registry loaded with 10 widgets:
[
  { id: 'ecommerce-metrics', title: 'Метрики E-commerce', category: 'analytics' },
  { id: 'monthly-sales-chart', title: 'График продаж по месяцам', category: 'sales' },
  { id: 'statistics-chart', title: 'Статистика', category: 'analytics' },
  { id: 'monthly-target', title: 'Месячные цели', category: 'sales' },
  { id: 'recent-orders', title: 'Последние заказы', category: 'sales' },
  { id: 'demographic-card', title: 'Демографические данные', category: 'analytics' },
  { id: 'shelf-availability', title: 'Доступность товаров', category: 'inventory' },
  { id: 'sales-forecast', title: 'Прогноз продаж', category: 'forecasting' },
  { id: 'tasks-overview', title: 'Обзор задач', category: 'planning' },
  { id: 'inventory-alerts', title: 'Критические уведомления', category: 'inventory' }
]
```

### Возможные проблемы и решения:

#### 1. Ошибки импорта виджетов
**Симптом:** Ошибки в консоли о том, что модуль не найден
**Решение:** Проверьте пути импортов в `widgetRegistry.ts`

#### 2. Проблемы с localStorage
**Симптом:** Конфигурация не сохраняется
**Решение:** Очистите localStorage: `localStorage.removeItem('dashboard-config')`

#### 3. Проблемы с TypeScript
**Симптом:** Ошибки типизации
**Решение:** Проверьте, что все типы определены в `dashboard.types.ts`

#### 4. Проблемы с CSS классами
**Симптом:** Виджеты отображаются неправильно
**Решение:** Убедитесь, что Tailwind CSS классы включены в safelist

### Быстрое решение:

1. **Очистите localStorage:**
   ```javascript
   localStorage.removeItem('dashboard-config');
   ```

2. **Перезагрузите страницу**

3. **Проверьте режим редактирования:**
   - Нажмите "Режим редактирования"
   - Попробуйте добавить виджет

### Если проблема не решается:

1. Проверьте, что dev сервер запущен: `npm run dev`
2. Проверьте, что нет ошибок компиляции: `npm run build`
3. Перезапустите dev сервер
4. Очистите кэш браузера (Ctrl+Shift+R)

### Контакты для поддержки:

Если проблема не решается, предоставьте:
- Скриншот консоли с ошибками
- Версию браузера
- Шаги для воспроизведения проблемы 