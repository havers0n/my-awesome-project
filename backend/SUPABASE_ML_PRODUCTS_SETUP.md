# Инструкция по добавлению ML-продуктов в Supabase

## Шаг 1: Подключение к Supabase

1. Откройте ваш проект в [Supabase Dashboard](https://app.supabase.com)
2. Перейдите в раздел **SQL Editor**

## Шаг 2: Получение organization_id

Выполните следующий запрос для получения ID вашей организации:

```sql
SELECT id, name FROM organizations;
```

Скопируйте `id` вашей организации (обычно это будет UUID вида `xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx`).

## Шаг 3: Выполнение скрипта

1. Откройте файл `add_ml_products_to_supabase.sql`
2. Замените `'YOUR-ORG-ID'` на реальный ID вашей организации
3. Скопируйте весь обновленный скрипт
4. Вставьте его в SQL Editor в Supabase
5. Нажмите **Run**

## Шаг 4: Проверка результатов

После выполнения скрипта проверьте, что данные добавлены:

```sql
-- Проверка продуктов
SELECT * FROM products 
WHERE code IN ('BREAD-001', 'MILK-001', 'CAKE-001');

-- Проверка операций
SELECT 
    p.name as product_name,
    p.code as product_code,
    o.operation_date,
    o.quantity,
    o.total_amount
FROM operations o
JOIN products p ON o.product_id = p.id
WHERE p.code IN ('BREAD-001', 'MILK-001', 'CAKE-001')
ORDER BY o.operation_date DESC;
```

## Альтернативный способ: Использование основного seed скрипта

Если вы хотите загрузить все тестовые данные сразу (включая ML-продукты):

1. Откройте файл `seed_test_data.sql`
2. Выполните его целиком в SQL Editor Supabase
3. Этот скрипт создаст:
   - Тестовую организацию
   - Локации (магазин и склад)
   - Категории продуктов
   - Все продукты включая ML-продукты
   - Тестовые операции для всех продуктов

## Продукты ML-модели

Скрипт добавляет следующие продукты, которые распознает ML-модель:

1. **Хлеб белый** (код: BREAD-001)
   - Цена: 45.00
   - Себестоимость: 35.00

2. **Молоко** (код: MILK-001)
   - Цена: 85.00
   - Себестоимость: 65.00

3. **Торт шоколадный** (код: CAKE-001)
   - Цена: 350.00
   - Себестоимость: 280.00

Каждый продукт имеет тестовые операции продаж за период с 11 по 15 января 2024 года.
