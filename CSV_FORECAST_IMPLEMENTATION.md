# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è CSV –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–¥–∞–∂

## üéØ –û–±–∑–æ—Ä

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–¥–∞–∂ –Ω–∞ –æ—Å–Ω–æ–≤–µ CSV –¥–∞–Ω–Ω—ã—Ö ML –º–æ–¥–µ–ª–∏. –≠—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å MVP –±–µ–∑ —Å–ª–æ–∂–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### Backend

#### 1. **–£—Ç–∏–ª–∏—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏ CSV** (`backend/src/utils/csvLoader.ts`)
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–æ–≤–∞—Ä—ã –∏–∑ `SalesPrediction-Vlad_branch/microservice/all_sku_metrics_1.csv`
- –ü–∞—Ä—Å–∏—Ç –º–µ—Ç—Ä–∏–∫–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏ (MAPE, MAE, RMSE)
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤

#### 2. **–ù–æ–≤—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä** (`backend/src/controllers/csvForecastController.ts`)
- `predictSalesFromCSV()` - –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ CSV –¥–∞–Ω–Ω—ã—Ö
- `getCSVProducts()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ CSV
- `getCSVMetrics()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–±—â–∏—Ö –º–µ—Ç—Ä–∏–∫ —Ç–æ—á–Ω–æ—Å—Ç–∏

#### 3. **–ù–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã** (`backend/src/routes/forecastRoutes.ts`)
- `POST /api/forecast/predict-csv` - –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ
- `GET /api/forecast/csv-products` - —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
- `GET /api/forecast/csv-metrics` - –º–µ—Ç—Ä–∏–∫–∏

### Frontend

#### 1. **–ù–æ–≤—ã–µ API —Ñ—É–Ω–∫—Ü–∏–∏** (`frontend/src/services/warehouseApi.ts`)
- `fetchCSVProducts()` - –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ CSV
- `fetchCSVMetrics()` - –∑–∞–≥—Ä—É–∑–∫–∞ –º–µ—Ç—Ä–∏–∫
- `requestCSVForecast()` - –∑–∞–ø—Ä–æ—Å –ø—Ä–æ–≥–Ω–æ–∑–∞

#### 2. **–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** (`frontend/src/pages/SalesForecastCSVPage.tsx`)
- –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å CSV –¥–∞–Ω–Ω—ã–º–∏
- –î–≤–∞ —Ä–µ–∂–∏–º–∞: –¥–µ—Ç–∞–ª—å–Ω—ã–π –∏ —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ —Ç–æ—á–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞

#### 3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏**
- –î–æ–±–∞–≤–ª–µ–Ω –º–∞—Ä—à—Ä—É—Ç `/sales-forecast-csv`
- –û–±–Ω–æ–≤–ª–µ–Ω —Å–∞–π–¥–±–∞—Ä —Å –Ω–æ–≤—ã–º –ø—É–Ω–∫—Ç–æ–º –º–µ–Ω—é

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. **–î–æ—Å—Ç—É–ø –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–µ**
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Å–∞–π–¥–±–∞—Ä–µ: **–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–∂** ‚Üí **ML –º–æ–¥–µ–ª—å (CSV)**

### 2. **–í—ã–±–æ—Ä —Ç–æ–≤–∞—Ä–∞**
- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä –∏–∑ —Å–ø–∏—Å–∫–∞ (1159 —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ ML –º–æ–¥–µ–ª–∏)
- –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏ (MAPE, MAE)
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–∏–æ–¥ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è

### 3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–≥–Ω–æ–∑–∞**
- –ù–∞–∂–º–∏—Ç–µ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥–Ω–æ–∑"
- –ü–æ–ª—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –º–æ–¥–µ–ª–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–æ–≥–Ω–æ–∑–æ–≤

## üìä –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ **–ë—ã—Å—Ç—Ä–æ—Ç–∞** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –≥–æ—Ç–æ–≤–æ–π ML –º–æ–¥–µ–ª—å—é
- ‚úÖ **–¢–æ—á–Ω–æ—Å—Ç—å** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –º–∏–Ω–∏–º—É–º –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - –Ω–µ—Ç —Ä–∏—Å–∫–æ–≤ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –ë–î

### **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- ‚ùå **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–æ–≤–∞—Ä–æ–≤** - —Ç–æ–ª—å–∫–æ 1159 –∏–∑ CSV
- ‚ùå **–ù–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏** - –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º–∏
- ‚ùå **–ù–µ—Ç –Ω–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤** - –Ω–µ–ª—å–∑—è –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä—ã –∏–∑ –ë–î

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö CSV:**
```csv
–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞,RMSE,MAE,MAPE,wMAPE,R2
"–ê–±—Ä–∏–∫–æ—Å–æ–≤—ã–π –∞—Ä–æ–º–∞—Ç 0,4–∫–≥",0.230,0.428,30.98,31.69,0.131
"–ë–∏—Å–∫–≤–∏—Ç–Ω–æ–µ —Å–æ —Å–ª–∏–≤–æ—á. –∫—Ä–µ–º–æ–º",0.667,0.573,36.29,39.34,-0.070
```

### **API –æ—Ç–≤–µ—Ç—ã:**
```json
// GET /api/forecast/csv-products
{
  "success": true,
  "data": [
    {
      "product_id": 1,
      "product_name": "–ê–±—Ä–∏–∫–æ—Å–æ–≤—ã–π –∞—Ä–æ–º–∞—Ç 0,4–∫–≥",
      "mape": 30.98,
      "mae": 0.428,
      "source": "CSV_ML_MODEL"
    }
  ],
  "source": "CSV_ML_MODEL"
}

// POST /api/forecast/predict-csv
{
  "success": true,
  "message": "–ü—Ä–æ–≥–Ω–æ–∑ —É—Å–ø–µ—à–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ CSV –¥–∞–Ω–Ω—ã—Ö",
  "data": {
    "daysCount": 7,
    "totalProducts": 1159,
    "predictions": [...],
    "source": "CSV_ML_MODEL"
  }
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤:**
```bash
curl -H "Authorization: Bearer YOUR_TOKEN" \
  http://localhost:3000/api/forecast/csv-products
```

### **2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫:**
```bash
curl -H "Authorization: Bearer YOUR_TOKEN" \
  http://localhost:3000/api/forecast/csv-metrics
```

### **3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è:**
```bash
curl -X POST -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"DaysCount": 7}' \
  http://localhost:3000/api/forecast/predict-csv
```

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏

### **–û–±—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –º–æ–¥–µ–ª–∏:**
- **–°—Ä–µ–¥–Ω—è—è MAPE:** ~28.32%
- **–°—Ä–µ–¥–Ω—è—è MAE:** ~0.355
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤:** 1159

### **–õ—É—á—à–∏–µ —Ç–æ–≤–∞—Ä—ã (–Ω–∏–∑–∫–∏–π MAPE):**
- "FOR KIDS –ê–ª—å–ø–∏–π—Å–∫–∏–π –º–æ–ª–æ—á–Ω—ã–π" - 6.55%
- "–ë–ï–õ–ï–í–°–ö–ê–Ø –ø–∞—Å—Ç–∏–ª–∞ –ë–ï–ó –°–ê–•–ê–†–ê –ë—Ä—É—Å–Ω–∏–∫–∞" - 5.43%

### **–•—É–¥—à–∏–µ —Ç–æ–≤–∞—Ä—ã (–≤—ã—Å–æ–∫–∏–π MAPE):**
- "–ë–ª–∏–Ω—á–∏–∫–∏ ¬´–î–æ–±—Ä—ã–Ω–∏–Ω—Å–∫–∏–µ¬ª 0,4" - 73.57%
- "–ö–µ–∫—Å –ö—É–ª–∏—á –ü–∞—Å—Ö–∞–ª—å–Ω—ã–π –î–æ–±—Ä—ã–Ω–∏–Ω—Å–∫–∏–π" - 93.22%

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### **–ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
1. –î–æ–±–∞–≤–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ CSV –¥–∞–Ω–Ω—ã—Ö
2. –£–ª—É—á—à–∏—Ç—å UI/UX —Å—Ç—Ä–∞–Ω–∏—Ü—ã
3. –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é —Ç–æ–≤–∞—Ä–æ–≤

### **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –ø–ª–∞–Ω—ã:**
1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –ë–î
2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ML –º–æ–¥–µ–ª–∏ –Ω–∞ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è CSV –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! 

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –†–∞–±–æ—á–∏–π MVP —Å –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ ML –º–æ–¥–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ.

**–í—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** ~2 —á–∞—Å–∞
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
**–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ 