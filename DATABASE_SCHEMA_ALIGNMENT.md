# –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫–æ–¥–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ö–µ–º–æ–π –ë–î

**–î–∞—Ç–∞:** 2025-01-15  
**–ö–æ–º–º–∏—Ç:** [6fd4f3d] üîß –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫–æ–¥–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ö–µ–º–æ–π –ë–î

## –û–±–∑–æ—Ä

–í—ã–ø–æ–ª–Ω–µ–Ω–æ –ø–æ–ª–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫–æ–¥–∞ frontend –∏ backend –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ö–µ–º–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö `database/schema.sql`. –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è –∏ —Ç–∏–ø—ã, –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ API.

## ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ç–∏–ø–∞—Ö –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö

### –û–±–Ω–æ–≤–ª–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Product
**–î–æ:**
```typescript
export interface Product {
  id: number;
  name: string;
  price: number;
  sku: string;
  status: ProductStatus;
  history: HistoryEntry[];
  // ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
}
```

**–ü–æ—Å–ª–µ:**
```typescript
export interface Product {
  product_id: number;
  product_name: string;
  price: number;
  sku: string;
  stock_by_location: StockByLocation[];
}
```

### –£–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–∏–ø—ã
- ‚ùå `ProductStatus` enum
- ‚ùå `HistoryEntry` interface
- ‚ùå –§—É–Ω–∫—Ü–∏–∏ `calculateProductStatus`, `getStatusTranslation`, `getHistoryTypeTranslation`

## ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö Frontend

### InventoryManagementPage
- **–ü–æ–ª—è:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ `product_name`, `sku`, `price`
- **–¢–∞–±–ª–∏—Ü–∞:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ "–¶–µ–Ω–∞", –æ–±–Ω–æ–≤–ª–µ–Ω —Ä–∞—Å—á–µ—Ç –æ—Å—Ç–∞—Ç–∫–æ–≤ —á–µ—Ä–µ–∑ `stock_by_location`
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:** –†–∞—Å—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ `stock_by_location` –≤–º–µ—Å—Ç–æ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç–∞—Ç—É—Å–æ–≤

### –£–¥–∞–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚ùå `QuickActions` - –∑–∞–≤–∏—Å–µ–ª –æ—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—è `status`
- ‚ùå `DonutChart` - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ —Å—Ö–µ–º–µ –ë–î
- ‚ùå `ReportForm` - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ—Ç—á–µ—Ç–æ–≤ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ–∫—É—â–µ–π —Å—Ö–µ–º–µ

### –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
- **AddProductModal:** –¢–æ–ª—å–∫–æ –ø–æ–ª—è `product_name`, `sku`, `price`
- **ProductDetailsModal:** –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ `stock_by_location` –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã

## ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ Backend API

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (Zod)
```typescript
const productSchema = z.object({
    product_name: z.string().min(1, 'Product name is required'),
    sku: z.string().min(1, 'SKU is required'),
    price: z.number().min(0, 'Price cannot be negative'),
});
```

### –§—É–Ω–∫—Ü–∏–∏ inventoryController
- **createProduct:** –ú–∞–ø–ø–∏–Ω–≥ `product_name` ‚Üí `name` –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã `products`
- **updateProduct:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª–µ–π —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ –ë–î
- **getProducts:** –í–æ–∑–≤—Ä–∞—Ç –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ –æ–∂–∏–¥–∞–µ–º–æ–º frontend

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤ API
```typescript
// –í–æ–∑–≤—Ä–∞—â–∞–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
{
  product_id: number,
  product_name: string,
  sku: string,
  price: number,
  stock_by_location: StockByLocation[]
}
```

## ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö

### warehouseApi.ts
- **–¢–∏–ø—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:** `product_id: number` –≤–º–µ—Å—Ç–æ `id: string`
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:** `Omit<Product, 'product_id' | 'stock_by_location'>`
- **API –≤—ã–∑–æ–≤—ã:** –û–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

### –£–¥–∞–ª–µ–Ω–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã
```typescript
// –£–¥–∞–ª–µ–Ω–æ
import { HistoryEntry } from '@/types/warehouse';

// –û–±–Ω–æ–≤–ª–µ–Ω–æ
export const addProduct = (productData: Omit<Product, 'product_id' | 'stock_by_location'>): Promise<Product>
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### ‚úÖ –£—Å–ø–µ—à–Ω–∞—è —Å–±–æ—Ä–∫–∞
- **Backend:** `npm run build` - —É—Å–ø–µ—à–Ω–æ (TypeScript compilation)
- **Frontend:** `npm run build` - —É—Å–ø–µ—à–Ω–æ (Vite build)

### ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ –ë–î
- –í—Å–µ –ø–æ–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç–∞–±–ª–∏—Ü–µ `public.products`
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å `stock_by_location` —á–µ—Ä–µ–∑ JOIN —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ `operations` –∏ `locations`
- –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è (`status`, `history`, `quantity`)

### ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å
- –ù–µ—Ç –æ—à–∏–±–æ–∫ TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- –ù–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
- –í—Å–µ API endpoints —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

## üìã –ú–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

**–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:**
```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
product.product_id
product.product_name
product.sku
product.price
product.stock_by_location.reduce((sum, loc) => sum + loc.stock, 0)

// ‚ùå –ë–æ–ª—å—à–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
product.id          // ‚Üí product.product_id
product.name        // ‚Üí product.product_name
product.status      // ‚Üí —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏–∑ stock_by_location
product.history     // ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É operations
product.quantity    // ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ stock_by_location
```

### –î–ª—è UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```typescript
// –†–∞—Å—á–µ—Ç –æ–±—â–µ–≥–æ –æ—Å—Ç–∞—Ç–∫–∞
const totalStock = product.stock_by_location 
  ? product.stock_by_location.reduce((sum, loc) => sum + Number(loc.stock), 0)
  : 0;

// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
const status = totalStock === 0 ? 'outOfStock' 
  : totalStock <= 10 ? 'lowStock' 
  : 'inStock';
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

1. **‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ** —Å—Ö–µ–º–µ `database/schema.sql`
2. **‚úÖ –£–¥–∞–ª–µ–Ω—ã** –≤—Å–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª–µ–π
3. **‚úÖ –†–∞–±–æ—á–∏–π –∫–æ–¥** - —É—Å–ø–µ—à–Ω–∞—è —Å–±–æ—Ä–∫–∞ frontend –∏ backend
4. **‚úÖ –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –≤—Å–µ TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
5. **‚úÖ API —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

---

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Ä–µ–∞–ª—å–Ω–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API endpoints
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ end-to-end —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö 